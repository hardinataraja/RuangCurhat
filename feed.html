<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Feed Curhat | RuangCurhat</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Toastify -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

  <!-- Transisi slide -->
  <style>
    body.page-enter { transform: translateX(20px); opacity: 0; transition: transform .32s ease, opacity .32s ease; }
    body.page-enter.page-ready { transform: translateX(0); opacity: 1; }
    body.page-exit { transition: transform .32s ease, opacity .32s ease; }
    body.page-exit.slide-left { transform: translateX(-24px); opacity: 0; }
    body.page-exit.slide-right { transform: translateX(24px); opacity: 0; }
    .page-wrapper { min-height: 60vh; }
  </style>
</head>
<body class="page-enter">
  <!-- ===== NAVBAR SAMA ===== -->
  <nav class="nav">
    <div class="logo">
      <div class="dot">RC</div>
      <span>RuangCurhat</span>
    </div>
    <div class="nav-right">
      <button class="theme-toggle" title="Ganti Mode">ğŸŒ™</button>
      <button class="hamburger">â˜°</button>
      <div class="menu">
  <a href="index.html" data-direction="right">ğŸ  Beranda</a>
  <a href="feed.html" data-direction="left">ğŸ’¬ Feed Curhat</a>
  <a href="mycurhat.html" data-direction="left">ğŸ“œ Curhatan Saya</a>
  <a href="profil.html" data-direction="left">âš™ï¸ Profil Anonim</a>
  <a href="#tentang" data-direction="none">ğŸ”” Tentang</a>
</div>
    </div>
  </nav>

  <div class="page-wrapper">
    <section class="feed" id="feed"></section>
  </div>

  <footer>RuangCurhat Â© 2025</footer>

  <!-- NAV JS (darkmode + slide) -->
  <script>
  // === PAGE TRANSITION (slide) ===
  window.addEventListener('DOMContentLoaded', () => {
    requestAnimationFrame(() => document.body.classList.add('page-ready'));
  });

  // === DARK MODE TOGGLE (persist via localStorage) ===
  const toggle = document.querySelector('.theme-toggle');

  // Terapkan tema tersimpan saat halaman dibuka
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark');
    toggle.textContent = 'â˜€ï¸';
  } else {
    toggle.textContent = 'ğŸŒ™';
  }

  toggle.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    const isDark = document.body.classList.contains('dark');
    toggle.textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });

  // === HAMBURGER MENU ===
  const hamburger = document.querySelector('.hamburger');
  const menu = document.querySelector('.menu');
  hamburger.addEventListener('click', () => menu.classList.toggle('active'));

  // === PAGE SLIDE TRANSITION (link antar halaman) ===
  document.querySelectorAll('.menu a, a[href$=".html"]').forEach(link => {
    link.addEventListener('click', e => {
      const href = link.getAttribute('href');
      if (!href || href.startsWith('#')) return;
      e.preventDefault();
      const dir = link.dataset.direction || 'left';
      document.body.classList.add('page-exit');
      if (dir === 'left') document.body.classList.add('slide-left');
      if (dir === 'right') document.body.classList.add('slide-right');
      setTimeout(() => window.location.href = href, 280);
    });
  });
</script>

  <!-- FEED LOGIC -->
  <script type="module" src="feed.js"></script>
</body>
</html>